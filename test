public ngAfterViewInit(): void {
  // On attend que la vue soit initialisée
  setTimeout(() => {
    // Forcer le recalcul du viewport virtuel (cdk)
    this.cdkVirtualScroll?.checkViewportSize();

    // Deuxième timeout pour garantir que les données et templates sont bien injectés
    setTimeout(() => {
      // Mise à jour des colonnes
      this.columnTemplates = {
        ...this.tableConfigFactory.getBaseTemplates(this),
      };

      // Forcer Angular à détecter les changements et re-rendre les barres vertes
      this.cdr.detectChanges();
    }, 50);
  }, 0);
}
