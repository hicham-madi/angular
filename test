@Input() timeline: { shortLabel: string; formattedValueShort?: string; dayInBetweenDates?: number }[] = [];

protected timelineRep?: { shortLabel: string; formattedValueShort?: string; dayInBetweenDates?: number };

public ngOnInit(): void {
  if (!Array.isArray(this.timeline)) {
    console.warn('BarTimelineComponent : timeline is not defined or not an array.');
    return;
  }

  this.timelineRep = this.timeline.find((e) => e.shortLabel === 'REP');

  if (!this.timelineRep) {
    console.warn('BarTimelineComponent : No timeline item found with shortLabel === "REP"');
    return;
  }

  this.countDay = this.getCountDay();

  if (typeof this.timelineRep.dayInBetweenDates === 'number') {
    this.bufferValue = Math.abs(this.timelineRep.dayInBetweenDates);
  }

  this.value = this.getProgress();

  if (this.isInProgress()) {
    this.backgroundColor = this.countDay >= 0 ? 'success-progress' : 'danger-progress';
  }
}
