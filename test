protected onCardClicked(type: FilterCardType, context: TicketContext): void {
  this.cardClickedOnce = true;

  // Si on clique sur la même carte, on désactive
  if (this.activeCard === type) {
    this.activeCard = FilterCardType.NONE;
  } else {
    this.activeCard = type;
  }

  // Mise à jour de l'URL
  this.router.navigate([], {
    relativeTo: this.route,
    queryParams: {
      card: this.activeCard !== FilterCardType.NONE ? this.activeCard : null,
    },
    queryParamsHandling: 'merge',
  });

  // Recharge les tickets
  this.loadTickets(this.activeCard, this.cardClicked, context);
}
ngOnInit(): void {
  this.route.queryParams.subscribe((params) => {
    const cardParam = params['card'] as string;
    const matchedCard = Object.values(FilterCardType).includes(cardParam as FilterCardType)
      ? (cardParam as FilterCardType)
      : FilterCardType.NONE;

    this.activeCard = matchedCard;

    this.loadTickets(this.activeCard, this.cardClicked, TicketContext.SOLICITATIONS);
  });
}
