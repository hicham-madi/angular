// app.routes.ts
export const routes: Routes = [
  { path: 'ticket-list', component: TicketListPageComponent, data: { context: 'SOLICITATIONS' } },
  { path: 'team-list', component: TicketListPageComponent, data: { context: 'TEAM' } },
  { path: 'ticket-list/terminated-list', component: TicketListPageComponent, data: { context: 'TERMINATED' } },
];

// ticket-list-page.component.ts
@Component({
  selector: 'app-ticket-list-page',
  templateUrl: './ticket-list-page.component.html',
  styleUrls: ['./ticket-list-page.component.scss'],
  standalone: true,
  changeDetection: ChangeDetectionStrategy.OnPush,
  imports: [
    CommonModule,
    FilterBarComponent,
    StatusTabsComponent,
    SolicitingsTableComponent,
  ],
})
export class TicketListPageComponent extends TicketsPageBase implements OnInit {
  constructor(
    protected override listService: ListService,
    protected override mbotService: MbotService,
    protected override router: Router,
    protected override route: ActivatedRoute,
    protected override cdr: ChangeDetectorRef,
    protected override tableConfigFactory: TableConfigFactory,
    protected override cardConfigFactory: DashboardCardConfigFactory,
  ) { super(); }

  ngOnInit(): void {
    const ctx = (this.route.snapshot.data['context'] ?? 'SOLICITATIONS') as TicketContext;
    this.initialization(ctx);
  }
}

<!-- ticket-list-page.component.html -->
<metabot-filter-bar
  [statusList]="statusList"
  (searchChanged)="onSearch($event)"
  (statusChanged)="onStatusFilterChanged($event)"
  [agencyList]="agencyList"
  [collaboratorsList]="collaboratorsList"
  [campaignsList]="campaignsList"
  (agencyChanged)="onAgencyFilterChanged($event)"
  (collaboratorChanged)="onCollaboratorFilterChanged($event)"
  (campaignChanged)="onCampaignFilterChanged($event)">
</metabot-filter-bar>

<metabot-status-tabs
  [tabs]="statusTabs"
  (tabChange)="onTabChange($event)"
  [currentCount]="currentCount"
  [selectedTab]="currentTab">
</metabot-status-tabs>

<div class="tabs-content">
  <div [hidden]="currentTab !== 'ongoing'">
    <metabot-solicitings-table
      [tickets]="ticketsOngoing"
      [displayedColumns]="displayedColumns"
      [columnConfig]="columnConfig"
      [columnTemplates]="columnTemplates"
      [rowClick]="rowClickFn"
      [context]="context"
      [selectedCard]="activeCard"
      [hasPendingPage]="hasPendingPageOngoing"
      (sortchanged)="onSortChanged($event)"
      (loadMore)="onScroll()">
    </metabot-solicitings-table>
  </div>

  <div [hidden]="currentTab !== 'completed'">
    <metabot-solicitings-table
      [tickets]="ticketsCompleted"
      [displayedColumns]="displayedColumns"
      [columnConfig]="columnConfig"
      [columnTemplates]="columnTemplates"
      [rowClick]="rowClickFn"
      [context]="context"
      [selectedCard]="activeCard"
      [hasPendingPage]="hasPendingPageCompleted"
      (sortchanged)="onSortChanged($event)"
      (loadMore)="onScroll()">
    </metabot-solicitings-table>
  </div>
</div>

<!-- tes ng-template (actionTpl, idTpl, …) restent inchangés -->
