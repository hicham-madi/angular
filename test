import { Injectable } from '@angular/core';
import { BehaviorSubject } from 'rxjs';

@Injectable({
  providedIn: 'root',
})
export class TicketCountService {
  private solicitationsCountSubject = new BehaviorSubject<number>(0);
  solicitationsCount$ = this.solicitationsCountSubject.asObservable();

  setSolicitationsCount(count: number): void {
    this.solicitationsCountSubject.next(count);
  }

  getSolicitationsCount(): number {
    return this.solicitationsCountSubject.getValue();
  }
}

constructor(
  private readonly ticketCountService: TicketCountService
) {}

...

case TicketContext.SOLICITATIONS:
  this.ticketCountService.setSolicitationsCount(totalElements);
  break;


constructor(private ticketCountService: TicketCountService) {}

ngOnInit(): void {
  this.ticketCountService.solicitationsCount$.subscribe(count => {
    this.currentCount = count;
  });
}
