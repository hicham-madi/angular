protected onCardClicked(type: FilterCardType, context: TicketContext): void {
  this.cardClickedOnce = true;
  const wasSameCard = this.activeCard === type;

  // ðŸ” Mettre Ã  jour l'Ã©tat de sÃ©lection
  this.activeCard = wasSameCard ? FilterCardType.NONE : type;

  // ðŸ” Remise Ã  zÃ©ro
  this.currentPage = 0;
  this.scrollCompleted = false;
  this.tickets = [];
  this.tableConfigFactory.ticketsCountSolicitations = 0;
  this.ticketsCountTeam = 0;

  // ðŸ” Synchronisation de l'URL
  if (this.router) {
    const queryParams = this.activeCard === FilterCardType.NONE
      ? {} // on dÃ©sÃ©lectionne => retirer le paramÃ¨tre
      : { card: this.activeCard }; // on sÃ©lectionne une carte

    this.router.navigate([], {
      relativeTo: this.route,
      queryParams,
      queryParamsHandling: 'merge',
    });
  }

  // ðŸ” Chargement des tickets
  if (this.activeCard === FilterCardType.NONE) {
    this.loadFullTicketList(context);
  } else {
    this.cardConfigFactory.loadTicketsByCard(this.activeCard, context).subscribe({
      next: (response) => this.handleTicketResponse(response, context),
      error: (err) => console.error('Erreur lors du chargement des tickets :', err),
    });
  }
}
