<div class="table-wrapper uk-flex uk-flex-column h-100">
  <!-- TABLE HEAD FIXE -->
  <table mat-table [dataSource]="[]" matSort class="mat-elevation-z8">
    <ng-container *ngFor="let column of displayedColumns" [matColumnDef]="column">
      <th mat-header-cell *matHeaderCellDef [ngStyle]="columnConfig[column]?.style || {}"
          class="column-align"
          (click)="sortData(column)">
        <ng-container *ngIf="column !== 'slaLabel' && column !== 'domainLabel'">
          {{ columnConfig[column]?.label || column }}
        </ng-container>
        <ng-container *ngIf="column === 'slaLabel' || column === 'domainLabel'">
          <span class="column-label" [innerHTML]="columnConfig[column]?.label || column"></span>
        </ng-container>
        <ng-container *ngIf="column !== 'action'">
          <mat-icon class="sort-icon" fontIcon="{{ getSortIcon(column) }}"></mat-icon>
        </ng-container>
      </th>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  </table>

  <!-- BODY SCROLLABLE -->
  <cdk-virtual-scroll-viewport itemSize="40" class="uk-flex-1 uk-overflow-auto">
    <table mat-table [dataSource]="tickets" class="mat-elevation-z8">
      <ng-container *ngFor="let column of displayedColumns" [matColumnDef]="column">
        <td mat-cell *matCellDef="let row" [ngStyle]="columnConfig[column]?.style || {}">
          <ng-container *ngIf="columnTemplates[column]">
            <ng-container *ngTemplateOutlet="columnTemplates[column]; context: { $implicit: row }"></ng-container>
          </ng-container>
        </td>
      </ng-container>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"
          [class.readCustomer]="isReadCustomer(row)"
          (click)="rowClick?.(row)">
      </tr>
    </table>
  </cdk-virtual-scroll-viewport>
</div>
.table-wrapper {
  @extend .scrollbar-ui;
  @extend .uk-flex;
  @extend .uk-flex-column;
  @extend .h-100;
  width: 100%;

  table {
    @extend .uk-table;
    border-collapse: separate;
    text-wrap: nowrap;

    thead tr th,
    tbody tr td {
      padding: 10px;
      border-bottom: 1px solid $text-border;
    }

    thead tr:first-child th,
    tbody tr td:first-child {
      @extend .padding-large-left;
    }

    thead tr:last-child th,
    tbody tr td:last-child {
      @extend .padding-large-right;
    }

    thead tr th {
      @extend .font-weight-xs;
      @extend .text-color;
      text-transform: none;
      position: sticky;
      top: 0;
      background-color: $text-background;
      border-top: 1px solid $text-border;
      border-bottom: 1px solid $text-border;
    }

    tbody tr td {
      @extend .font-weight-medium;
      @extend .text-primary-color;
      @extend .padding-xsmall;
      vertical-align: middle;
    }
  }
}
