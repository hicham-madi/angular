const paramsForCounters = { ...baseParams, cardType: FilterCardType.NONE };
const paramsForSelected = { ...baseParams, cardType: selectedCard };

return forkJoin({
  env: this.mbotService.getEnvConfig(),
  counters: this.mbotService.getTicketListV2(paramsForCounters), // => stats pour toutes les cartes
  tickets: selectedCard !== FilterCardType.NONE
    ? this.mbotService.getTicketListV2(paramsForSelected)
    : of(createEmptyMbotList()),
}).pipe(
  map(({ env, counters, tickets }) => ({
    context,
    initialTab,
    config: { displayedColumns, columnConfig },
    tickets,                 // liste filtrée si carte sélectionnée
    stats: counters?.stats,  // compteurs alimentés pour TOUTES les cartes
    env,
  }))
);
