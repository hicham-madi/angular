import { Router, NavigationEnd } from '@angular/router';
import { filter } from 'rxjs/operators';

public ngOnInit(): void {
  this.router.events.pipe(
    filter(event => event instanceof NavigationEnd)
  ).subscribe((event: NavigationEnd) => {
    let tab: [Tab, string] | undefined = Array.from(this.tabsUrls).find(pair =>
      event.urlAfterRedirects.includes(pair[1])
    );
    if (tab) {
      this.activeTab = tab[0];
      this.cdr.markForCheck(); // notifier Angular du changement
    }
  });
}
