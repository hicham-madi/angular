ngOnInit(): void {
  this.route.queryParamMap.subscribe((params) => {
    const card = params.get('card');
    const payload = this.buildPayload(); // méthode existante si vous avez déjà

    if (card) {
      payload.card = card;
      this.ticketService.getTicketsByCard(payload).subscribe((data) => {
        this.tickets = data.list;
      });
    } else {
      this.ticketService.getTicketListV2(payload).subscribe((data) => {
        this.tickets = data.list;
      });
    }
  });
}}
